:root{--bg:#0b0b0f;--card:#141420;--text:#e8e8f0;--muted:#a0a0b8;--accent:#22cc88}
*{box-sizing:border-box}body{margin:0;background:var(--bg);color:var(--text);font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial}
header{display:flex;align-items:center;justify-content:space-between;padding:16px}
header h1{margin:0;font-size:20px}
header button, header .btn{background:var(--accent);border:none;color:#001c10;padding:10px 14px;border-radius:8px;font-weight:700;text-decoration:none;display:inline-block}
main{padding:12px;max-width:720px;margin:0 auto}
.card{background:var(--card);border:1px solid #1f1f2d;border-radius:12px;padding:12px}
.row{display:flex;gap:12px;align-items:center;margin:10px 0}
label{width:160px;color:var(--muted)}
input,select{flex:1;min-height:40px;border-radius:8px;border:1px solid #2a2a3a;background:#0f0f18;color:var(--text);padding:0 10px}
input#hex{max-width:160px}
#thresholdSlider{flex:2}
#swatch{width:24px;height:24px;border-radius:6px;border:1px solid #333}
.actions{justify-content:flex-end}
.actions button{background:var(--accent);border:none;color:#001c10;padding:10px 14px;border-radius:8px;font-weight:700}
.status{margin-top:8px;color:var(--muted)}
.hidden{display:none}
footer{padding:16px;text-align:center;color:var(--muted)}
@media (max-width:520px){label{width:120px}}

.picker-wrap{position:relative; width:100%; max-width:360px; aspect-ratio:18/10;}
#colorCanvas{width:100%; height:auto; display:block; border-radius:8px; border:1px solid #2a2a3a}
.picker-dot{position:absolute; width:14px; height:14px; border:2px solid #fff; border-radius:50%; box-shadow:0 0 0 2px #000; pointer-events:none; transform:translate(-7px,-7px)}

.grid{display:grid; grid-template-columns:repeat(auto-fill,minmax(120px,1fr)); gap:12px; margin-top:12px}
.tile{background:#0f0f18;border:1px solid #2a2a3a;border-radius:10px;overflow:hidden}
.tile img{width:100%; display:block}
.tile .meta{padding:8px; font-size:12px; color:var(--muted)}
.tile .meta .name{color:var(--text); font-weight:600; margin-bottom:4px}
.tile .badge{position:absolute; background:#22cc88; color:#001c10; font-weight:700; font-size:12px; padding:4px 6px; border-bottom-right-radius:8px}
.tile{position:relative}
.tile.included{outline:2px solid var(--accent)}
.swatch{width:32px; height:32px; border-radius:6px; border:1px solid #333}

.progress-container{margin-top:12px}
.progress-bar{width:100%; height:8px; background:#2a2a3a; border-radius:4px; overflow:hidden}
.progress-fill{height:100%; background:var(--accent); width:0%; transition:width 0.3s ease}
.progress-text{text-align:center; margin-top:8px; color:var(--muted); font-size:14px}

.investigation-panel{background:#0a0a0e; border:1px solid #22cc88; border-radius:12px; padding:16px; margin-top:16px}
.investigation-panel h3{margin:0 0 16px 0; color:var(--accent); font-size:18px}
.investigation-stats{display:grid; grid-template-columns:repeat(auto-fit,minmax(150px,1fr)); gap:12px; margin-bottom:16px}
.stat{display:flex; flex-direction:column; align-items:center; text-align:center}
.stat-label{color:var(--muted); font-size:12px; margin-bottom:4px}
.stat-value{color:var(--text); font-weight:600; font-size:16px}
.current-analysis{display:flex; gap:16px; align-items:center; padding:16px; background:#0f0f18; border-radius:8px}
.current-image{width:80px; height:80px; background:#1a1a2a; border-radius:8px; display:flex; align-items:center; justify-content:center; color:var(--muted)}
.current-image img{width:100%; height:100%; object-fit:cover; border-radius:8px}
.current-details{flex:1}
.track-name{color:var(--text); font-weight:600; margin-bottom:4px}
.artist-name{color:var(--muted); margin-bottom:8px}
.color-info{color:var(--accent); font-family:monospace; font-size:14px}

